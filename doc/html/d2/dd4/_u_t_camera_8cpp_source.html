<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>utcoupe2011:  Fichier source de Visio/ObjectCamera/UTCamera.cpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="../../namespaces.html"><span>Espaces&nbsp;de&nbsp;nommage</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="../../files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="../../globals.html"><span>Membres&nbsp;de&nbsp;fichier</span></a></li>
    </ul>
  </div>
<h1>Visio/ObjectCamera/UTCamera.cpp</h1><a href="../../d2/dd4/_u_t_camera_8cpp.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html">UTCamera.hpp</a>&quot;</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 
<a name="l00039"></a>00039 <span class="comment">/****************************************************</span>
<a name="l00040"></a>00040 <span class="comment">*****       FONCTIONS DE LA TRACKBAR            *****</span>
<a name="l00041"></a>00041 <span class="comment">****************************************************/</span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">// Fonctions qui récupére la position de la souris et calibre la couleur séléctionnée</span>
<a name="l00045"></a><a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#af9347544e178086e1e43b49572d34e37">00045</a> <span class="keywordtype">void</span> <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#af9347544e178086e1e43b49572d34e37">souris</a>(<span class="keywordtype">int</span> event, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> flags, <span class="keywordtype">void</span> *param) {
<a name="l00046"></a>00046 
<a name="l00047"></a>00047     <span class="keywordflow">if</span>(event == CV_EVENT_LBUTTONUP) {
<a name="l00048"></a>00048         IplImage* f;
<a name="l00049"></a>00049         <a class="code" href="../../d5/d1c/class_u_t_camera.html">UTCamera</a>* cam = (<a class="code" href="../../d5/d1c/class_u_t_camera.html">UTCamera</a>*)param;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051         f=cvRetrieveFrame(cam-&gt;<a class="code" href="../../d5/d1c/class_u_t_camera.html#ac90a38f802e54e12e547829348ed541a">getCapture</a>());
<a name="l00052"></a>00052         cvCvtColor(f, f, CV_BGR2HSV);
<a name="l00053"></a>00053         CvScalar scal;
<a name="l00054"></a>00054         scal = cvGet2D(f, y, x);
<a name="l00055"></a>00055 
<a name="l00056"></a>00056         cam-&gt;<a class="code" href="../../d5/d1c/class_u_t_camera.html#a7f7b3a41f1c3eed421dfa5978df10666">setHtab</a>(cam-&gt;<a class="code" href="../../d5/d1c/class_u_t_camera.html#a2763b11a57035b36eae75c10325b1f04">getInd</a>(),scal.val[0]);
<a name="l00057"></a>00057         cam-&gt;<a class="code" href="../../d5/d1c/class_u_t_camera.html#aa91e9ef0af70cdb7bb026f25ce0fff0b">setStab</a>(cam-&gt;<a class="code" href="../../d5/d1c/class_u_t_camera.html#a2763b11a57035b36eae75c10325b1f04">getInd</a>(),scal.val[1]);
<a name="l00058"></a>00058         cam-&gt;<a class="code" href="../../d5/d1c/class_u_t_camera.html#a3cb8c1b95dec465ade26dd35bf04f24c">setVtab</a>(cam-&gt;<a class="code" href="../../d5/d1c/class_u_t_camera.html#a2763b11a57035b36eae75c10325b1f04">getInd</a>(),scal.val[2]);
<a name="l00059"></a>00059 
<a name="l00060"></a>00060         cout &lt;&lt; <span class="stringliteral">&quot;H-S-V&quot;</span> &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; scal.val[0] &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; scal.val[1] &lt;&lt; <span class="stringliteral">&quot;-&quot;</span> &lt;&lt; scal.val[2] &lt;&lt; endl;
<a name="l00061"></a>00061     }
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="comment">/****************************************************</span>
<a name="l00066"></a>00066 <span class="comment">*****           DEBUT DE L&#39;OBJET                *****</span>
<a name="l00067"></a>00067 <span class="comment">****************************************************/</span>
<a name="l00068"></a>00068 <span class="comment">// ********************</span>
<a name="l00069"></a>00069 <span class="comment">// *** CONSTRUCTEUR ***</span>
<a name="l00070"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#a3d519db26513a1eec75abbe027aa0206">00070</a> <a class="code" href="../../d5/d1c/class_u_t_camera.html#a3d519db26513a1eec75abbe027aa0206">UTCamera::UTCamera</a>(<span class="keywordtype">int</span> camera, <span class="keywordtype">int</span> wScreen, <span class="keywordtype">int</span> hScreen) {
<a name="l00071"></a>00071 
<a name="l00072"></a>00072     <span class="comment">// Nommage automatique de l&#39;objet</span>
<a name="l00073"></a>00073     <span class="keywordflow">if</span>(camera==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acbeb8c4eb8afeb313789882a6ecba2f9">CAMERA_AVA</a>) { nameCam=<span class="stringliteral">&quot;camera avant&quot;</span>;  }
<a name="l00074"></a>00074     <span class="keywordflow">if</span>(camera==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a31bb4cf8760c4914e3b29689b8d448ab">CAMERA_ARR</a>) { nameCam=<span class="stringliteral">&quot;camera arriere&quot;</span>;}
<a name="l00075"></a>00075 
<a name="l00076"></a>00076     <span class="comment">// Affectation à une caméra</span>
<a name="l00077"></a>00077     ptrCamera = cvCreateCameraCapture(camera);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079     frame     = cvQueryFrame( ptrCamera );
<a name="l00080"></a>00080     <span class="keywordflow">if</span>( !frame ){ cout &lt;&lt; <span class="stringliteral">&quot;Erreur initialisation : &quot;</span> &lt;&lt; nameCam &lt;&lt; endl; <span class="keywordflow">return</span>;}
<a name="l00081"></a>00081 
<a name="l00082"></a>00082     <span class="comment">// Dimension des images de la caméra</span>
<a name="l00083"></a>00083     width = frame-&gt;width;
<a name="l00084"></a>00084     height= frame-&gt;height;
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     this-&gt;wScreen = wScreen;
<a name="l00087"></a>00087     this-&gt;hScreen = hScreen;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="comment">// Initialisation du tableau masque</span>
<a name="l00090"></a>00090     imgTab = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>**)malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)*width);
<a name="l00091"></a>00091     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0 ; x&lt;width ; x++){
<a name="l00092"></a>00092         imgTab[x] = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*)malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>)*height);
<a name="l00093"></a>00093     }
<a name="l00094"></a>00094 
<a name="l00095"></a>00095     <span class="comment">// Chargement de la config</span>
<a name="l00096"></a>00096     <a class="code" href="../../d5/d1c/class_u_t_camera.html#a72e42245bebc87c959f34db3c60f4beb">loadConfig</a>();
<a name="l00097"></a>00097 }
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 <span class="comment">// **********************************************</span>
<a name="l00100"></a>00100 <span class="comment">// *** Methode de calibrage avant utilisation ***</span>
<a name="l00101"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#ab5b597937e7edfc94fcfc1796d8041a5">00101</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#ab5b597937e7edfc94fcfc1796d8041a5">UTCamera::calibrage</a>()
<a name="l00102"></a>00102 {
<a name="l00103"></a>00103     <span class="comment">// Création des fenetres de seuillages</span>
<a name="l00104"></a>00104     cvNamedWindow( nameCam.c_str()  , CV_WINDOW_NORMAL );
<a name="l00105"></a>00105     cvNamedWindow( <span class="stringliteral">&quot;Mask Test&quot;</span>      , CV_WINDOW_NORMAL );
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     cvNamedWindow( <span class="stringliteral">&quot;parametre 1&quot;</span>    , CV_WINDOW_NORMAL );
<a name="l00108"></a>00108     cvNamedWindow( <span class="stringliteral">&quot;parametre 2&quot;</span>    , CV_WINDOW_NORMAL );
<a name="l00109"></a>00109 
<a name="l00110"></a>00110     cvResizeWindow(nameCam.c_str(), <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a801f52322b8af7fff4df7ee4e6eb3799">DIV2INF</a>(wScreen),<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a801f52322b8af7fff4df7ee4e6eb3799">DIV2INF</a>(hScreen));
<a name="l00111"></a>00111     cvMoveWindow(  nameCam.c_str(), <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(wScreen),<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(hScreen));
<a name="l00112"></a>00112     cvResizeWindow(<span class="stringliteral">&quot;Mask Test&quot;</span>    , <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a801f52322b8af7fff4df7ee4e6eb3799">DIV2INF</a>(wScreen),<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(hScreen));
<a name="l00113"></a>00113     cvMoveWindow(  <span class="stringliteral">&quot;Mask Test&quot;</span>    , <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(wScreen),0               );
<a name="l00114"></a>00114     <a class="code" href="../../d5/d1c/class_u_t_camera.html#afc4391f9379336abb42bbfe81b3733db">afficherMask</a>(  <span class="stringliteral">&quot;Mask Test&quot;</span>                                       );
<a name="l00115"></a>00115     cvResizeWindow(<span class="stringliteral">&quot;parametre 1&quot;</span>  , <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(wScreen)),hScreen);
<a name="l00116"></a>00116     cvMoveWindow(  <span class="stringliteral">&quot;parametre 1&quot;</span>  , 0               ,0               );
<a name="l00117"></a>00117     cvResizeWindow(<span class="stringliteral">&quot;parametre 2&quot;</span>  , <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a801f52322b8af7fff4df7ee4e6eb3799">DIV2INF</a>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(wScreen)),hScreen);
<a name="l00118"></a>00118     cvMoveWindow(  <span class="stringliteral">&quot;parametre 2&quot;</span>  , <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a801f52322b8af7fff4df7ee4e6eb3799">DIV2INF</a>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#aa5e5258161aa289dd2729f3baa9e850e">DIV2SUP</a>(wScreen)),0      );
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     cvCreateTrackbar( <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ac3ee2c6f99b228fe1f01b62f13a2b861">TEXTE</a>, <span class="stringliteral">&quot;parametre 1&quot;</span> , &amp;ind    , 6  , NULL);
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     cvCreateTrackbar(<span class="stringliteral">&quot;NOIR  : tolerance H&quot;</span> , <span class="stringliteral">&quot;parametre 1&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>, 255, NULL);
<a name="l00123"></a>00123     cvCreateTrackbar(<span class="stringliteral">&quot;NOIR  : tolerance S&quot;</span> , <span class="stringliteral">&quot;parametre 1&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>, 255, NULL);
<a name="l00124"></a>00124     cvCreateTrackbar(<span class="stringliteral">&quot;NOIR  : tolerance V&quot;</span> , <span class="stringliteral">&quot;parametre 1&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>, 255, NULL);
<a name="l00125"></a>00125     cvCreateTrackbar(<span class="stringliteral">&quot;ROUGE : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>, 255, NULL);
<a name="l00126"></a>00126     cvCreateTrackbar(<span class="stringliteral">&quot;ROUGE : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>, 255, NULL);
<a name="l00127"></a>00127     cvCreateTrackbar(<span class="stringliteral">&quot;ROUGE : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>, 255, NULL);
<a name="l00128"></a>00128     cvCreateTrackbar(<span class="stringliteral">&quot;VERT  : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>,  255, NULL);
<a name="l00129"></a>00129     cvCreateTrackbar(<span class="stringliteral">&quot;VERT  : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>,  255, NULL);
<a name="l00130"></a>00130     cvCreateTrackbar(<span class="stringliteral">&quot;VERT  : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>,  255, NULL);
<a name="l00131"></a>00131     cvCreateTrackbar(<span class="stringliteral">&quot;BLEU  : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>,  255, NULL);
<a name="l00132"></a>00132     cvCreateTrackbar(<span class="stringliteral">&quot;BLEU  : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>,  255, NULL);
<a name="l00133"></a>00133     cvCreateTrackbar(<span class="stringliteral">&quot;BLEU  : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>,  255, NULL);
<a name="l00134"></a>00134     cvCreateTrackbar(<span class="stringliteral">&quot;JAUNE : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>, 255, NULL);
<a name="l00135"></a>00135     cvCreateTrackbar(<span class="stringliteral">&quot;JAUNE : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>, 255, NULL);
<a name="l00136"></a>00136     cvCreateTrackbar(<span class="stringliteral">&quot;JAUNE : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>, 255, NULL);
<a name="l00137"></a>00137     cvCreateTrackbar(<span class="stringliteral">&quot;BLANC : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>, 255, NULL);
<a name="l00138"></a>00138     cvCreateTrackbar(<span class="stringliteral">&quot;BLANC : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>, 255, NULL);
<a name="l00139"></a>00139     cvCreateTrackbar(<span class="stringliteral">&quot;BLANC : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>, 255, NULL);
<a name="l00140"></a>00140 
<a name="l00141"></a>00141     cvSetMouseCallback(nameCam.c_str(), <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#af9347544e178086e1e43b49572d34e37">souris</a>, <span class="keyword">this</span>);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <span class="comment">// Boucle principale</span>
<a name="l00144"></a>00144     <span class="keywordflow">while</span>(1) {
<a name="l00145"></a>00145         frame = cvQueryFrame( ptrCamera );
<a name="l00146"></a>00146         <span class="keywordflow">if</span>( !frame ) <span class="keywordflow">break</span>;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         <a class="code" href="../../d5/d1c/class_u_t_camera.html#aa65e8f397823bdc54b18e72f73db1f66">maskApplication</a>();
<a name="l00149"></a>00149         <a class="code" href="../../d5/d1c/class_u_t_camera.html#afc4391f9379336abb42bbfe81b3733db">afficherMask</a>(<span class="stringliteral">&quot;Mask Test&quot;</span>);
<a name="l00150"></a>00150         <a class="code" href="../../d5/d1c/class_u_t_camera.html#aefc11931e72ebe4e10164463197a26f5">RegGApplication</a>();
<a name="l00151"></a>00151         <a class="code" href="../../d5/d1c/class_u_t_camera.html#a7a7bbc3c30827e53cf558d4d785e68cf">afficherRegi</a>();
<a name="l00152"></a>00152 
<a name="l00153"></a>00153         cvCreateTrackbar(<span class="stringliteral">&quot;NOIR  : tolerance H&quot;</span> , <span class="stringliteral">&quot;parametre 1&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>, 255, NULL);
<a name="l00154"></a>00154         cvCreateTrackbar(<span class="stringliteral">&quot;NOIR  : tolerance S&quot;</span> , <span class="stringliteral">&quot;parametre 1&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>, 255, NULL);
<a name="l00155"></a>00155         cvCreateTrackbar(<span class="stringliteral">&quot;NOIR  : tolerance V&quot;</span> , <span class="stringliteral">&quot;parametre 1&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>, 255, NULL);
<a name="l00156"></a>00156         cvCreateTrackbar(<span class="stringliteral">&quot;ROUGE : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>, 255, NULL);
<a name="l00157"></a>00157         cvCreateTrackbar(<span class="stringliteral">&quot;ROUGE : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>, 255, NULL);
<a name="l00158"></a>00158         cvCreateTrackbar(<span class="stringliteral">&quot;ROUGE : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>, 255, NULL);
<a name="l00159"></a>00159         cvCreateTrackbar(<span class="stringliteral">&quot;VERT  : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>,  255, NULL);
<a name="l00160"></a>00160         cvCreateTrackbar(<span class="stringliteral">&quot;VERT  : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>,  255, NULL);
<a name="l00161"></a>00161         cvCreateTrackbar(<span class="stringliteral">&quot;VERT  : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>,  255, NULL);
<a name="l00162"></a>00162         cvCreateTrackbar(<span class="stringliteral">&quot;BLEU  : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>,  255, NULL);
<a name="l00163"></a>00163         cvCreateTrackbar(<span class="stringliteral">&quot;BLEU  : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>,  255, NULL);
<a name="l00164"></a>00164         cvCreateTrackbar(<span class="stringliteral">&quot;BLEU  : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>,  255, NULL);
<a name="l00165"></a>00165         cvCreateTrackbar(<span class="stringliteral">&quot;JAUNE : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>, 255, NULL);
<a name="l00166"></a>00166         cvCreateTrackbar(<span class="stringliteral">&quot;JAUNE : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>, 255, NULL);
<a name="l00167"></a>00167         cvCreateTrackbar(<span class="stringliteral">&quot;JAUNE : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 1&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>, 255, NULL);
<a name="l00168"></a>00168         cvCreateTrackbar(<span class="stringliteral">&quot;BLANC : tolerance H&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Htol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>, 255, NULL);
<a name="l00169"></a>00169         cvCreateTrackbar(<span class="stringliteral">&quot;BLANC : tolerance S&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Stol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>, 255, NULL);
<a name="l00170"></a>00170         cvCreateTrackbar(<span class="stringliteral">&quot;BLANC : tolerance V&quot;</span>, <span class="stringliteral">&quot;parametre 2&quot;</span>, Vtol+<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>, 255, NULL);
<a name="l00171"></a>00171 
<a name="l00172"></a>00172         cvShowImage( nameCam.c_str(), frame );
<a name="l00173"></a>00173 
<a name="l00174"></a>00174         <span class="keywordtype">char</span> c = cvWaitKey(10);
<a name="l00175"></a>00175         <span class="keywordflow">if</span>( c == <span class="charliteral">&#39;q&#39;</span> ) <span class="keywordflow">break</span>;
<a name="l00176"></a>00176     }
<a name="l00177"></a>00177 
<a name="l00178"></a>00178     <span class="comment">// Sauvegarde de fin</span>
<a name="l00179"></a>00179     <a class="code" href="../../d5/d1c/class_u_t_camera.html#af76b96e69eec45286474239a33c805bb">saveConfig</a>();
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     <span class="comment">// Destruction</span>
<a name="l00182"></a>00182     cvDestroyWindow(<span class="stringliteral">&quot;parametre 1&quot;</span>);
<a name="l00183"></a>00183     cvDestroyWindow(<span class="stringliteral">&quot;parametre 2&quot;</span>);
<a name="l00184"></a>00184     cvDestroyWindow(<span class="stringliteral">&quot;Mask Test&quot;</span>);
<a name="l00185"></a>00185     cvDestroyWindow(nameCam.c_str());
<a name="l00186"></a>00186 }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="comment">/****************************************************</span>
<a name="l00190"></a>00190 <span class="comment">*****          METHODES DE TRAITEMENTS          *****</span>
<a name="l00191"></a>00191 <span class="comment">****************************************************/</span>
<a name="l00192"></a>00192 <span class="comment">// Application du filtre de couleur</span>
<a name="l00193"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#aa65e8f397823bdc54b18e72f73db1f66">00193</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#aa65e8f397823bdc54b18e72f73db1f66">UTCamera::maskApplication</a>()
<a name="l00194"></a>00194 {
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     IplImage * hsv = cvCreateImage(cvSize(frame-&gt;width, frame-&gt;height), frame-&gt;depth, frame-&gt;nChannels);
<a name="l00197"></a>00197     cvCvtColor(frame, hsv, CV_BGR2HSV);
<a name="l00198"></a>00198 
<a name="l00199"></a>00199     <span class="keywordtype">int</span> h,s,v;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x&lt;width; x++) {
<a name="l00202"></a>00202         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> y=0; y&lt;height; y++) {
<a name="l00203"></a>00203 
<a name="l00204"></a>00204             h = CV_IMAGE_ELEM( hsv, uchar, y, ( x * 3 ) );
<a name="l00205"></a>00205             s = CV_IMAGE_ELEM( hsv, uchar, y, ( x * 3 ) +1);
<a name="l00206"></a>00206             v = CV_IMAGE_ELEM( hsv, uchar, y, ( x * 3 ) +2);
<a name="l00207"></a>00207 
<a name="l00208"></a>00208             <span class="keywordflow">if</span>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a58d2207ccd62fb3859a9ff344ce231af">IS_COLOR</a>(h,s,v,<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>))
<a name="l00209"></a>00209                 {
<a name="l00210"></a>00210                     imgTab[x][y]=<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>;
<a name="l00211"></a>00211                 }
<a name="l00212"></a>00212        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a58d2207ccd62fb3859a9ff344ce231af">IS_COLOR</a>(h,s,v,<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>))
<a name="l00213"></a>00213                 {
<a name="l00214"></a>00214                     imgTab[x][y]=<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>;
<a name="l00215"></a>00215                 }
<a name="l00216"></a>00216        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a58d2207ccd62fb3859a9ff344ce231af">IS_COLOR</a>(h,s,v,<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>))
<a name="l00217"></a>00217                 {
<a name="l00218"></a>00218                     imgTab[x][y]=<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>;
<a name="l00219"></a>00219                 }
<a name="l00220"></a>00220        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a58d2207ccd62fb3859a9ff344ce231af">IS_COLOR</a>(h,s,v,<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>))
<a name="l00221"></a>00221                 {
<a name="l00222"></a>00222                     imgTab[x][y]=<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>;
<a name="l00223"></a>00223                 }
<a name="l00224"></a>00224        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a58d2207ccd62fb3859a9ff344ce231af">IS_COLOR</a>(h,s,v,<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>))
<a name="l00225"></a>00225                 {
<a name="l00226"></a>00226                     imgTab[x][y]=<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>;
<a name="l00227"></a>00227                 }
<a name="l00228"></a>00228           <span class="keywordflow">else</span>
<a name="l00229"></a>00229                 {
<a name="l00230"></a>00230                     <span class="comment">//if( SEUIL( h, Htab[JAUNE], Htol[JAUNE]) )</span>
<a name="l00231"></a>00231                     <span class="comment">//{</span>
<a name="l00232"></a>00232                         imgTab[x][y]=<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>;
<a name="l00233"></a>00233                     <span class="comment">//}</span>
<a name="l00234"></a>00234                 }
<a name="l00235"></a>00235         }
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237     cvReleaseImage(&amp;hsv);
<a name="l00238"></a>00238 }
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 <span class="comment">// Fonction pour étendre une zone</span>
<a name="l00241"></a><a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ae2b7cbd5f51671e8f170ccedddb512e5">00241</a> <span class="keywordtype">void</span> <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ae2b7cbd5f51671e8f170ccedddb512e5">extendRegion</a>(<a class="code" href="../../d4/d29/struct_region.html">region</a>* z, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>** imgTab, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> stop)
<a name="l00242"></a>00242 {
<a name="l00243"></a>00243     <span class="keywordflow">if</span>(stop&lt;<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abee8775c7c6d7bdc267159d71668ddee">STOP_REC</a>){
<a name="l00244"></a>00244                 (z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a976c15c73357d4309bf1a48f2eb120e1">nbPixel</a>)++;
<a name="l00245"></a>00245                 imgTab[x][y] = <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a6bbd101f7335b5ffa892ab2b92f5df54">UNDEFINE</a>;
<a name="l00246"></a>00246 
<a name="l00247"></a>00247                 <span class="keywordflow">if</span>( y &lt; z-&gt;<a class="code" href="../../de/daa/com_2carte_2build_2core_2wiring_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>     ].y ) { z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>     ] = cvPoint(x,y); }
<a name="l00248"></a>00248                 <span class="keywordflow">if</span>( y &gt; z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a>      ].y ) { z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a>      ] = cvPoint(x,y); }
<a name="l00249"></a>00249                 <span class="keywordflow">if</span>( x &gt; z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>   ].x ) { z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>   ] = cvPoint(x,y); }
<a name="l00250"></a>00250                 <span class="keywordflow">if</span>( x &lt; z-&gt;<a class="code" href="../../de/daa/com_2carte_2build_2core_2wiring_8h.html#affe776513b24d84b39af8ab0930fef7f">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>   ].x ) { z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>   ] = cvPoint(x,y); }
<a name="l00251"></a>00251 
<a name="l00252"></a>00252                 <span class="keywordflow">if</span>( (x+1&lt;height)    &amp;&amp; (imgTab[x+1][y]==z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>) ){
<a name="l00253"></a>00253                         <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ae2b7cbd5f51671e8f170ccedddb512e5">extendRegion</a>(z, width, height, imgTab, x+1, y, stop+1);
<a name="l00254"></a>00254                 }
<a name="l00255"></a>00255                 <span class="keywordflow">if</span>( (x-1&gt;=0)        &amp;&amp; (imgTab[x-1][y]==z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>) ){
<a name="l00256"></a>00256                         <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ae2b7cbd5f51671e8f170ccedddb512e5">extendRegion</a>(z, width, height, imgTab, x-1, y, stop+1);
<a name="l00257"></a>00257                 }
<a name="l00258"></a>00258                 <span class="keywordflow">if</span>( (y+1&lt;width)     &amp;&amp; (imgTab[x][y+1]==z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>) ){
<a name="l00259"></a>00259                         <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ae2b7cbd5f51671e8f170ccedddb512e5">extendRegion</a>(z, width, height, imgTab, x, y+1, stop+1);
<a name="l00260"></a>00260                 }
<a name="l00261"></a>00261                 <span class="keywordflow">if</span>( (y-1&gt;=0)        &amp;&amp; (imgTab[x][y-1]==z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>) ){
<a name="l00262"></a>00262                         <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ae2b7cbd5f51671e8f170ccedddb512e5">extendRegion</a>(z, width, height, imgTab, x, y-1, stop+1);
<a name="l00263"></a>00263                 }
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="comment">// Methode pour appliquer le region growing et remplir la liste des regions de l&#39;objet</span>
<a name="l00268"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#aefc11931e72ebe4e10164463197a26f5">00268</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#aefc11931e72ebe4e10164463197a26f5">UTCamera::RegGApplication</a>()
<a name="l00269"></a>00269 {
<a name="l00270"></a>00270 
<a name="l00271"></a>00271     listeR.<a class="code" href="../../d4/d4b/class_liste_region.html#ab162dcd73dfe53c120591c758162c9ef">destroy</a>();
<a name="l00272"></a>00272     <a class="code" href="../../d4/d29/struct_region.html">region</a> *r;
<a name="l00273"></a>00273 
<a name="l00274"></a>00274         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x=0 ; x&lt;width ; x++ ){
<a name="l00275"></a>00275                 <span class="keywordflow">for</span>( <span class="keywordtype">int</span> y=0 ; y&lt;height ; y++ ){
<a name="l00276"></a>00276 
<a name="l00277"></a>00277                         <span class="keywordflow">if</span>(imgTab[x][y]!=<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a6bbd101f7335b5ffa892ab2b92f5df54">UNDEFINE</a>)
<a name="l00278"></a>00278                         {
<a name="l00279"></a>00279                             r = (<a class="code" href="../../d4/d29/struct_region.html">region</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code" href="../../d4/d29/struct_region.html">region</a>));
<a name="l00280"></a>00280 
<a name="l00281"></a>00281                                 r-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>  ] = cvPoint(x,y);
<a name="l00282"></a>00282                                 r-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a>   ] = cvPoint(x,y);
<a name="l00283"></a>00283                                 r-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>] = cvPoint(x,y);
<a name="l00284"></a>00284                                 r-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>] = cvPoint(x,y);
<a name="l00285"></a>00285                                 r-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>       = imgTab[x][y];
<a name="l00286"></a>00286                                 r-&gt;<a class="code" href="../../d4/d29/struct_region.html#a976c15c73357d4309bf1a48f2eb120e1">nbPixel</a>     = 0;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288                                 <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ae2b7cbd5f51671e8f170ccedddb512e5">extendRegion</a>(r, width, height, imgTab, x, y, 0);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290                                 <span class="keywordflow">if</span>( (r-&gt;<a class="code" href="../../d4/d29/struct_region.html#a976c15c73357d4309bf1a48f2eb120e1">nbPixel</a> &gt; 1000) )
<a name="l00291"></a>00291                                 {
<a name="l00292"></a>00292                                     listeR.<a class="code" href="../../d4/d4b/class_liste_region.html#a1c0b81162a1f30378180a3b27d13b00a">add</a>(r);
<a name="l00293"></a>00293                                 }
<a name="l00294"></a>00294                                 <span class="keywordflow">else</span>
<a name="l00295"></a>00295                                 {
<a name="l00296"></a>00296                      free(r);
<a name="l00297"></a>00297                                 }
<a name="l00298"></a>00298                         }
<a name="l00299"></a>00299                 }
<a name="l00300"></a>00300         }
<a name="l00301"></a>00301 }
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="comment">/****************************************************</span>
<a name="l00304"></a>00304 <span class="comment">*****             METHODES D&#39;AFFICHAGE          *****</span>
<a name="l00305"></a>00305 <span class="comment">****************************************************/</span>
<a name="l00306"></a><a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ac6f158928cec9a8c72b1c8310077cf6f">00306</a> <span class="keywordtype">void</span> <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ac6f158928cec9a8c72b1c8310077cf6f">afficheRegion</a>(IplImage* imgPtr, <a class="code" href="../../d4/d29/struct_region.html">Region</a> *z)
<a name="l00307"></a>00307 {
<a name="l00308"></a>00308     <span class="keywordflow">if</span>(z!=NULL){
<a name="l00309"></a>00309         CvFont font;
<a name="l00310"></a>00310         <span class="keywordtype">double</span> hScale=0.5;
<a name="l00311"></a>00311         <span class="keywordtype">double</span> vScale=0.5;
<a name="l00312"></a>00312         <span class="keywordtype">int</span>    lineWidth=1;
<a name="l00313"></a>00313         cvInitFont(&amp;font,CV_FONT_HERSHEY_SIMPLEX|CV_FONT_ITALIC, hScale,vScale,0,lineWidth);
<a name="l00314"></a>00314 
<a name="l00315"></a>00315         <span class="keywordtype">int</span> affiche = FALSE;
<a name="l00316"></a>00316 
<a name="l00317"></a>00317         <span class="keywordflow">if</span>(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>){
<a name="l00318"></a>00318             cvPutText (imgPtr,<span class="stringliteral">&quot;PIONT&quot;</span>,cvPoint( (z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>].x+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>].x)/2,(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>].y+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a>].y)/2 ), &amp;font, cvScalar(0,0,0));
<a name="l00319"></a>00319             affiche = TRUE;
<a name="l00320"></a>00320         }
<a name="l00321"></a>00321         <span class="keywordflow">if</span>(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>){
<a name="l00322"></a>00322             cvPutText (imgPtr,<span class="stringliteral">&quot;zone rouge&quot;</span>,cvPoint( (z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>].x+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>].x)/2,(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>].y+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a>].y)/2 ), &amp;font, cvScalar(0,0,0));
<a name="l00323"></a>00323             affiche = TRUE;
<a name="l00324"></a>00324         }
<a name="l00325"></a>00325         <span class="keywordflow">if</span>(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>){
<a name="l00326"></a>00326             cvPutText (imgPtr,<span class="stringliteral">&quot;zone bleu&quot;</span>,cvPoint( (z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>].x+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>].x)/2,(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>].y+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a>].y)/2 ), &amp;font, cvScalar(0,0,0));
<a name="l00327"></a>00327             affiche = TRUE;
<a name="l00328"></a>00328         }
<a name="l00329"></a>00329         <span class="keywordflow">if</span>(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a0affdd2e9197f5a1be71212e5551082c">color</a>==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>){
<a name="l00330"></a>00330             cvPutText (imgPtr,<span class="stringliteral">&quot;zone verte&quot;</span>,cvPoint( (z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>].x+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>].x)/2,(z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>].y+z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a>].y)/2 ), &amp;font, cvScalar(0,0,0));
<a name="l00331"></a>00331             affiche = TRUE;
<a name="l00332"></a>00332         }
<a name="l00333"></a>00333 
<a name="l00334"></a>00334         <span class="keywordflow">if</span>(affiche){
<a name="l00335"></a>00335             cvLine(imgPtr, z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>], z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>], cvScalar(0,0,0), 3);
<a name="l00336"></a>00336             cvLine(imgPtr, z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#acd0f9b88c35112b35f67d3cde4b2365c">HAUT</a>], z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>], cvScalar(0,0,0), 3);
<a name="l00337"></a>00337             cvLine(imgPtr, z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a> ], z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af625d3f3bc022848a558f2b18def5b15">DROITE</a>], cvScalar(0,0,0), 3);
<a name="l00338"></a>00338             cvLine(imgPtr, z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#abd7bcdd3b14eec4414469f88f2bd8f12">BAS</a> ], z-&gt;<a class="code" href="../../d4/d29/struct_region.html#a00416b88a721d21fcd920ac9d08c6918">max</a>[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#af07f8bf974fdf76afd17f2b97ac15a22">GAUCHE</a>], cvScalar(0,0,0), 3);
<a name="l00339"></a>00339         }
<a name="l00340"></a>00340     }
<a name="l00341"></a>00341 }
<a name="l00342"></a>00342 
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 <span class="comment">// Fonction qui affiche les régions sur l&#39;image principale</span>
<a name="l00346"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#a7a7bbc3c30827e53cf558d4d785e68cf">00346</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#a7a7bbc3c30827e53cf558d4d785e68cf">UTCamera::afficherRegi</a>()
<a name="l00347"></a>00347 {
<a name="l00348"></a>00348     listeR.<a class="code" href="../../d4/d4b/class_liste_region.html#a52237208776a602498934fda5eaab38c">iniPtr</a>();
<a name="l00349"></a>00349 
<a name="l00350"></a>00350     <span class="keywordflow">while</span>(listeR.<a class="code" href="../../d4/d4b/class_liste_region.html#a3a047736effb53bbe193c1ff3763440a">getEle</a>()!=NULL){
<a name="l00351"></a>00351         <a class="code" href="../../d2/dd4/_u_t_camera_8cpp.html#ac6f158928cec9a8c72b1c8310077cf6f">afficheRegion</a>(frame, listeR.<a class="code" href="../../d4/d4b/class_liste_region.html#a3a047736effb53bbe193c1ff3763440a">getEle</a>());
<a name="l00352"></a>00352         listeR.<a class="code" href="../../d4/d4b/class_liste_region.html#a4224b2c76a6fc6dba1ea7f0a3d51aa3b">ptrSuiv</a>();
<a name="l00353"></a>00353     }
<a name="l00354"></a>00354 }
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#afc4391f9379336abb42bbfe81b3733db">00356</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#afc4391f9379336abb42bbfe81b3733db">UTCamera::afficherMask</a>(){
<a name="l00357"></a>00357     cvNamedWindow( <span class="stringliteral">&quot;Mask&quot;</span>, CV_WINDOW_AUTOSIZE );
<a name="l00358"></a>00358     <a class="code" href="../../d5/d1c/class_u_t_camera.html#afc4391f9379336abb42bbfe81b3733db">afficherMask</a>(<span class="stringliteral">&quot;Mask&quot;</span>);
<a name="l00359"></a>00359 }
<a name="l00360"></a>00360 
<a name="l00361"></a>00361 <span class="comment">// Methodes pour afficher l&#39;image après application du masque</span>
<a name="l00362"></a>00362 <span class="comment">// Il faut créer une fenetre et passer en paramétre le nome de cette fenetre</span>
<a name="l00363"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#a7cb87687ba17986525f4d0e2dd7eb421">00363</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#afc4391f9379336abb42bbfe81b3733db">UTCamera::afficherMask</a>(<span class="keywordtype">char</span>* WindowMaskName)
<a name="l00364"></a>00364 {
<a name="l00365"></a>00365 
<a name="l00366"></a>00366     IplImage * imgPrint = cvCreateImage(cvSize(width, height), frame-&gt;depth, frame-&gt;nChannels);
<a name="l00367"></a>00367     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> x=0; x &lt; width; x++) {
<a name="l00368"></a>00368         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> y=0; y &lt; height; y++) {
<a name="l00369"></a>00369 
<a name="l00370"></a>00370             <span class="keywordflow">if</span>(imgTab[x][y]==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>){
<a name="l00371"></a>00371                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 )    ) = 0;
<a name="l00372"></a>00372                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 1) = 255;
<a name="l00373"></a>00373                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 2) = 255;
<a name="l00374"></a>00374             }
<a name="l00375"></a>00375             <span class="keywordflow">if</span>(imgTab[x][y]==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a>){
<a name="l00376"></a>00376                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 )    ) = 255;
<a name="l00377"></a>00377                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 1) = 0;
<a name="l00378"></a>00378                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 2) = 0;
<a name="l00379"></a>00379             }
<a name="l00380"></a>00380             <span class="keywordflow">if</span>(imgTab[x][y]==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>){
<a name="l00381"></a>00381                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 )    ) = 0;
<a name="l00382"></a>00382                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 1) = 0;
<a name="l00383"></a>00383                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 2) = 255;
<a name="l00384"></a>00384             }
<a name="l00385"></a>00385             <span class="keywordflow">if</span>(imgTab[x][y]==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a>){
<a name="l00386"></a>00386                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 )    ) = 0;
<a name="l00387"></a>00387                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 1) = 255;
<a name="l00388"></a>00388                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 2) = 0;
<a name="l00389"></a>00389             }
<a name="l00390"></a>00390             <span class="keywordflow">if</span>(imgTab[x][y]==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>){
<a name="l00391"></a>00391                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 )    ) = 255;
<a name="l00392"></a>00392                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 1) = 255;
<a name="l00393"></a>00393                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 2) = 255;
<a name="l00394"></a>00394             }
<a name="l00395"></a>00395             <span class="keywordflow">if</span>(imgTab[x][y]==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a>){
<a name="l00396"></a>00396                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 )    ) = 0;
<a name="l00397"></a>00397                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 1) = 0;
<a name="l00398"></a>00398                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 2) = 0;
<a name="l00399"></a>00399             }
<a name="l00400"></a>00400             <span class="keywordflow">if</span>(imgTab[x][y]==<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a6bbd101f7335b5ffa892ab2b92f5df54">UNDEFINE</a>){
<a name="l00401"></a>00401                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 )    ) = 255;
<a name="l00402"></a>00402                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 1) = 0;
<a name="l00403"></a>00403                  CV_IMAGE_ELEM( imgPrint, uchar, y, ( x * 3 ) + 2) = 255;
<a name="l00404"></a>00404             }
<a name="l00405"></a>00405 
<a name="l00406"></a>00406         }
<a name="l00407"></a>00407     }
<a name="l00408"></a>00408     cvShowImage(WindowMaskName, imgPrint);
<a name="l00409"></a>00409     cvReleaseData(imgPrint);
<a name="l00410"></a>00410 }
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 <span class="comment">// Methode pour l&#39;enregistrement</span>
<a name="l00414"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#a555f596bb0867ea161eeb88d28a88796">00414</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#a555f596bb0867ea161eeb88d28a88796">UTCamera::record</a>(<span class="keywordtype">int</span> mode){
<a name="l00415"></a>00415 
<a name="l00416"></a>00416     CvSize size = cvSize (
<a name="l00417"></a>00417             (<span class="keywordtype">int</span>)cvGetCaptureProperty( ptrCamera, CV_CAP_PROP_FRAME_WIDTH),
<a name="l00418"></a>00418             (<span class="keywordtype">int</span>)cvGetCaptureProperty( ptrCamera, CV_CAP_PROP_FRAME_HEIGHT) );
<a name="l00419"></a>00419 
<a name="l00420"></a>00420     CvVideoWriter *writer = cvCreateVideoWriter(
<a name="l00421"></a>00421             <span class="stringliteral">&quot;out.avi&quot;</span>, CV_FOURCC(<span class="charliteral">&#39;M&#39;</span>,<span class="charliteral">&#39;J&#39;</span>,<span class="charliteral">&#39;P&#39;</span>,<span class="charliteral">&#39;G&#39;</span>), 22, size );
<a name="l00422"></a>00422 
<a name="l00423"></a>00423     <span class="keywordflow">if</span>(writer == NULL){
<a name="l00424"></a>00424             cout &lt;&lt; <span class="stringliteral">&quot;RECORD PROBLEME !!!&quot;</span> &lt;&lt; endl; }
<a name="l00425"></a>00425 
<a name="l00426"></a>00426     <span class="keywordflow">if</span>(mode == <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a0c113b5d91b6265c66d2d4e603c55688">VISION_NORMAL</a>){
<a name="l00427"></a>00427         <span class="comment">//cvWriteFrame( writer, frame );</span>
<a name="l00428"></a>00428     }
<a name="l00429"></a>00429     <span class="keywordflow">if</span>(mode == <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae1c756b796c5465ba24dc3ada6bea0c1">VISION_MASK</a>){
<a name="l00430"></a>00430         <span class="comment">//cvWriteFrame( writer, frame );</span>
<a name="l00431"></a>00431     }
<a name="l00432"></a>00432     <span class="keywordflow">if</span>(mode == <a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ac2e94c0f1d1e97c32059e359a8191574">VISION_ZONE</a>){
<a name="l00433"></a>00433         <span class="comment">//cvWriteFrame( writer, frame );</span>
<a name="l00434"></a>00434     }
<a name="l00435"></a>00435 
<a name="l00436"></a>00436     cvReleaseVideoWriter( &amp;writer );
<a name="l00437"></a>00437 
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 <span class="comment">/****************************************************</span>
<a name="l00441"></a>00441 <span class="comment">*****     METHODES DE GESTION DES CONFIG        *****</span>
<a name="l00442"></a>00442 <span class="comment">****************************************************/</span>
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 <span class="comment">// Permet de sauvgarder les valeurs de configuration</span>
<a name="l00445"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#af76b96e69eec45286474239a33c805bb">00445</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#af76b96e69eec45286474239a33c805bb">UTCamera::saveConfig</a>()
<a name="l00446"></a>00446 {
<a name="l00447"></a>00447     FILE* fichierConfig;
<a name="l00448"></a>00448 
<a name="l00449"></a>00449     fichierConfig = fopen(<span class="stringliteral">&quot;UTConfig.txt&quot;</span>,<span class="stringliteral">&quot;w+&quot;</span>);
<a name="l00450"></a>00450     <span class="keywordflow">if</span>(fichierConfig==NULL){<span class="keywordflow">return</span>;}
<a name="l00451"></a>00451 
<a name="l00452"></a>00452     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ab5405bef50d9d47930710114064b7e5a">NB_COLOR</a>; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fprintf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,Htab[<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>]);}
<a name="l00453"></a>00453     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00454"></a>00454     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fprintf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,Htol[<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>]);}
<a name="l00455"></a>00455     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00456"></a>00456     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fprintf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,Stab[<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>]);}
<a name="l00457"></a>00457     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00458"></a>00458     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fprintf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,Stol[<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>]);}
<a name="l00459"></a>00459     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00460"></a>00460     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fprintf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,Vtab[<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>]);}
<a name="l00461"></a>00461     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00462"></a>00462     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fprintf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,Vtol[<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>]);}
<a name="l00463"></a>00463     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00464"></a>00464 
<a name="l00465"></a>00465     fclose(fichierConfig);
<a name="l00466"></a>00466 }
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 <span class="comment">// Permet de charger le fichier de configuration des caméras</span>
<a name="l00469"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#a72e42245bebc87c959f34db3c60f4beb">00469</a> <span class="keywordtype">void</span> <a class="code" href="../../d5/d1c/class_u_t_camera.html#a72e42245bebc87c959f34db3c60f4beb">UTCamera::loadConfig</a>()
<a name="l00470"></a>00470 {
<a name="l00471"></a>00471     FILE* fichierConfig;
<a name="l00472"></a>00472 
<a name="l00473"></a>00473     fichierConfig = fopen(<span class="stringliteral">&quot;UTConfig.txt&quot;</span>,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l00474"></a>00474     <span class="keywordflow">if</span>(fichierConfig==NULL){<span class="keywordflow">return</span>;}
<a name="l00475"></a>00475 
<a name="l00476"></a>00476     <span class="comment">//    --- VALEUR DE H ---</span>
<a name="l00477"></a>00477     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ab5405bef50d9d47930710114064b7e5a">NB_COLOR</a>; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fscanf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,(Htab+<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>));}
<a name="l00478"></a>00478     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00479"></a>00479 
<a name="l00480"></a>00480     <span class="keywordflow">if</span>(Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]==0){Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]=0;}
<a name="l00481"></a>00481     <span class="keywordflow">if</span>(Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]==0){Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]=0;}
<a name="l00482"></a>00482     <span class="keywordflow">if</span>(Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]==0){Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]=0;}
<a name="l00483"></a>00483     <span class="keywordflow">if</span>(Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]==0){Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]=0;}
<a name="l00484"></a>00484     <span class="keywordflow">if</span>(Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]==0){Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]=0;}
<a name="l00485"></a>00485     <span class="keywordflow">if</span>(Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]==0){Htab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]=0;}
<a name="l00486"></a>00486 
<a name="l00487"></a>00487     <span class="comment">//    --- TOLERANCE DE H ---</span>
<a name="l00488"></a>00488     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fscanf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,(Htol+<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>));}
<a name="l00489"></a>00489     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00490"></a>00490 
<a name="l00491"></a>00491     <span class="keywordflow">if</span>(Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]==0){Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]=10;}
<a name="l00492"></a>00492     <span class="keywordflow">if</span>(Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]==0){Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]=10;}
<a name="l00493"></a>00493     <span class="keywordflow">if</span>(Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]==0){Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]=10;}
<a name="l00494"></a>00494     <span class="keywordflow">if</span>(Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]==0){Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]=10;}
<a name="l00495"></a>00495     <span class="keywordflow">if</span>(Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]==0){Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]=10;}
<a name="l00496"></a>00496     <span class="keywordflow">if</span>(Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]==0){Htol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]=10;}
<a name="l00497"></a>00497 
<a name="l00498"></a>00498     <span class="comment">//    --- VALEUR DE S ---</span>
<a name="l00499"></a>00499     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fscanf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,(Stab+<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>));}
<a name="l00500"></a>00500     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00501"></a>00501 
<a name="l00502"></a>00502     <span class="keywordflow">if</span>(Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]==0){Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]=10;}
<a name="l00503"></a>00503     <span class="keywordflow">if</span>(Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]==0){Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]=10;}
<a name="l00504"></a>00504     <span class="keywordflow">if</span>(Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]==0){Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]=10;}
<a name="l00505"></a>00505     <span class="keywordflow">if</span>(Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]==0){Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]=10;}
<a name="l00506"></a>00506     <span class="keywordflow">if</span>(Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]==0){Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]=10;}
<a name="l00507"></a>00507     <span class="keywordflow">if</span>(Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]==0){Stab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]=10;}
<a name="l00508"></a>00508 
<a name="l00509"></a>00509     <span class="comment">//    --- TOLERANCE DE S ---</span>
<a name="l00510"></a>00510     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fscanf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,(Stol+<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>));}
<a name="l00511"></a>00511     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00512"></a>00512 
<a name="l00513"></a>00513     <span class="keywordflow">if</span>(Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]==0){Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]=60;}
<a name="l00514"></a>00514     <span class="keywordflow">if</span>(Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]==0){Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]=60;}
<a name="l00515"></a>00515     <span class="keywordflow">if</span>(Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]==0){Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]=60;}
<a name="l00516"></a>00516     <span class="keywordflow">if</span>(Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]==0){Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]=60;}
<a name="l00517"></a>00517     <span class="keywordflow">if</span>(Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]==0){Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]=60;}
<a name="l00518"></a>00518     <span class="keywordflow">if</span>(Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]==0){Stol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]=60;}
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     <span class="comment">//    --- VALEUR DE V ---</span>
<a name="l00521"></a>00521     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fscanf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,(Vtab+<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>));}
<a name="l00522"></a>00522     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00523"></a>00523 
<a name="l00524"></a>00524     <span class="keywordflow">if</span>(Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]==0){Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]=10;}
<a name="l00525"></a>00525     <span class="keywordflow">if</span>(Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]==0){Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]=10;}
<a name="l00526"></a>00526     <span class="keywordflow">if</span>(Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]==0){Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]=10;}
<a name="l00527"></a>00527     <span class="keywordflow">if</span>(Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]==0){Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]=10;}
<a name="l00528"></a>00528     <span class="keywordflow">if</span>(Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]==0){Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]=10;}
<a name="l00529"></a>00529     <span class="keywordflow">if</span>(Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]==0){Vtab[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]=10;}
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="comment">//    --- TOLERANCE DE V ---</span>
<a name="l00532"></a>00532     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>=0; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>&lt;NB_COLOR; <a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>++){fscanf(fichierConfig,<span class="stringliteral">&quot;%d   &quot;</span>,(Vtol+<a class="code" href="../../d1/dc4/_motor_party_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>));}
<a name="l00533"></a>00533     fprintf(fichierConfig,<span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00534"></a>00534 
<a name="l00535"></a>00535     <span class="keywordflow">if</span>(Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]==0){Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a8a711bd77f878f23e61dfd98fc505a1c">NOIR</a> ]=160;}
<a name="l00536"></a>00536     <span class="keywordflow">if</span>(Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]==0){Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a358a59dd21062085dd34d5c228c5f136">ROUGE</a>]=160;}
<a name="l00537"></a>00537     <span class="keywordflow">if</span>(Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]==0){Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a22c2b7cb14b1ffb516a9ed4a164b5cda">VERT</a> ]=160;}
<a name="l00538"></a>00538     <span class="keywordflow">if</span>(Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]==0){Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#ae22837728df88da892b4bb16bb98296d">BLEU</a> ]=160;}
<a name="l00539"></a>00539     <span class="keywordflow">if</span>(Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]==0){Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a34c109ff6a0293c4706defe141ef7e0c">JAUNE</a>]=160;}
<a name="l00540"></a>00540     <span class="keywordflow">if</span>(Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]==0){Vtol[<a class="code" href="../../d5/dab/_u_t_camera_8hpp.html#a4371941fa5aa27c04b3e2b973c39f4b0">BLANC</a>]=160;}
<a name="l00541"></a>00541 
<a name="l00542"></a>00542     fclose(fichierConfig);
<a name="l00543"></a>00543 }
<a name="l00544"></a>00544 
<a name="l00545"></a>00545 <span class="comment">/****************************************************</span>
<a name="l00546"></a>00546 <span class="comment">*****            FIN DE L&#39;OBJET                 *****</span>
<a name="l00547"></a>00547 <span class="comment">****************************************************/</span>
<a name="l00548"></a>00548 <span class="comment">// ---</span>
<a name="l00549"></a><a class="code" href="../../d5/d1c/class_u_t_camera.html#a463e6334c1a0155651d04e2fb9011249">00549</a> <a class="code" href="../../d5/d1c/class_u_t_camera.html#a463e6334c1a0155651d04e2fb9011249">UTCamera::~UTCamera</a>() {
<a name="l00550"></a>00550     cvReleaseCapture( &amp;ptrCamera );
<a name="l00551"></a>00551 }
<a name="l00552"></a>00552 
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Wed Jan 26 15:31:01 2011 pour utcoupe2011 par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
